================================================================================
INXI RESOURCES
================================================================================
FILE:    inxi-resources.txt
VERSION: 2.0
DATE:    2019-04-24

----------------------------------------
Docs:
See: docs/cpu-flags.txt
See: docs/inxi-custom-recommends.txt
See: docs/inxi-tools.txt
See: docs/inxi-values.txt
See: docs/optimization.txt

----------------------------------------
Code: 
See:

----------------------------------------
Comments:

A great number of resources are used to figure out various inxi problems and 
features. While I should have started this list a long time ago, better late 
than never!

================================================================================

Sections:
1. LINKS - FUNCTIONS
2. LINKS - CLASSES
3. LINKS - GENERAL ITEMS

================================================================================
LINKS - FUNCTIONS
--------------------------------------------------------------------------------

========================================
get_dmi_data(); DeviceData
----------------------------------------
https://www.perlmonks.org/?node_id=6758

Using the fact that by default @_ is passed by reference,
so by sending the boolean check switches to the functions, and having
them set the check flag to 1, the main booleans are also set, without 
having to manually do the = 1 for each set event.

========================================
get_init_data()
----------------------------------------

missing data: note, runit can install as a dependency without being the 
init system: http://smarden.org/runit/sv.8.html

========================================
get_runlevel_default()
----------------------------------------

UPSTART:
http://askubuntu.com/questions/86483/how-can-i-see-or-change-default-run-level

========================================
user_debugger()
----------------------------------------

This function runs when tripped by --debug-test-1

how to make STDOUT local for testing of binmode STDOUT,":utf8";

https://stackoverflow.com/questions/27801561/turn-off-binmodestdout-utf8-locally

================================================================================
LINKS - CLASSES
--------------------------------------------------------------------------------

========================================
BATTERY DATA
----------------------------------------

note: arm, sbm/sbs are battery ids, I think.

https://www.congatec.com/us/embedded-lexikon/b/smart-battery.html

pinebook battery: (i3status issue report)
https://github.com/i3/i3status/issues/244

constant_charge_current_max constant_charge_current
https://www.kernel.org/doc/Documentation/power/power_supply_class.txt

========================================
CHECK RECOMMENDS
----------------------------------------

See: docs/inxi-custom-recommends.txt 

Maintainers who want to show a non apt/rpm/pacman package manager list of
missing package names can learn how to do that for their distro's packaged 
inxi using this doc.

========================================
CPU DATA
----------------------------------------

----------------------------------------
CPU Flags
----------------------------------------

See: cpu-flags.txt for links, -Cx vs -f (short form vs full), and current 
listed flags definitions. Includes overview of the short form flag items 
so it's reasonably clear why those are the short form defaults.

----------------------------------------
cpu_arch()
----------------------------------------

AMD CPU MICROARCHITECTURES:
https://en.wikipedia.org/wiki/List_of_AMD_CPU_microarchitectures
https://en.wikichip.org/wiki/intel#List_of_microarchitectures
https://www.intel.com/content/www/us/en/design/products-and-solutions/processors-and-chipsets/platform-codenames.html
product codes: https://en.wikipedia.org/wiki/List_of_Intel_microprocessors
https://software.intel.com/en-us/articles/intel-architecture-and-processor-identification-with-cpuid-model-and-family-numbers

This is really good:
https://en.wikichip.org/wiki/amd/cpuid
https://en.wikichip.org/wiki/intel/cpuid
combined with cpuinfo from:
https://intel-gfx-ci.01.org/hardware/

random data:
https://asteroidsathome.net/boinc/cpu_list.php

https://github.com/gcc-mirror/gcc/blob/master/libgcc/config/i386/cpuinfo.c

Elbrus-S/E2K/2S+/2SM/4S/8S/8SV/16S russian x86/64 compatible:
https://wikivisually.com/wiki/Elbrus_%28computer%29
https://en.wikipedia.org/wiki/Elbrus-8S
https://wikivisually.com/wiki/Elbrus_2000
https://wikivisually.com/wiki/Elbrus-2S%2B

Elbrus 1S+ (SOC+gpu)

----------------------------------------
set_cpu_speeds_sys()
----------------------------------------

ARM ODROID CPU SPEEDS:
https://github.com/smxi/inxi/issues/128

----------------------------------------
data_cpuinfo()
----------------------------------------

RYZEN:
https://www.pcworld.com/article/3214635/components-processors/ryzen-threadripper-review-we-test-amds-monster-cpu.html
INTEL:
https://software.intel.com/en-us/articles/intel-architecture-and-processor-identification-with-cpuid-model-and-family-numbers
https://en.wikipedia.org/wiki/List_of_Intel_microprocessors
https://github.com/pytorch/cpuinfo/blob/master/src/x86/uarch.c
http://www.cpu-world.com/
https://en.wikichip.org/wiki/intel/cpuid

# intel dies etc, pcie, dmi 2.0/3.0
https://www.anandtech.com/show/10303/choosing-the-right-ssd-for-a-skylakeu-system
https://h30434.www3.hp.com/t5/Notebook-Hardware-and-Upgrade-Questions/And-this-is-why-my-960-evo-can-t-get-3200MB-s-on-my-spectre/td-p/5975464

# lists of datasets
https://intel-gfx-ci.01.org/hardware/

----------------------------------------
cpu_bugs_sys()
----------------------------------------
http://kroah.com/log/blog/2018/01/06/meltdown-status/

https://www.maketecheasier.com/check-linux-meltdown-spectre-vulnerability/


========================================
DEBUGGER
----------------------------------------

ZFS RAID:  ls -l /dev/disk/by-wwn
http://comments.gmane.org/gmane.linux.file-systems.zfs.user/2032

LSI RAID: 
https://hwraid.le-vert.net/wiki/LSIMegaRAIDSAS

BSD tools: 
http://cb.vu/unixtoolbox.xhtml

/sys parser hangs:
on file: /sys/power/wait_for_fb_sleep /sys/power/wait_for_fb_wake
https://android.googlesource.com/platform/system/core.git/+/android-4.2.2_r1/libsuspend/autosuspend_earlysuspend.c
https://forum.xda-developers.com/showthread.php?t=2785318

========================================
DESKTOP DATA
----------------------------------------

----------------------------------------
get_wm() get_ps_de_data() + GraphicsData display_compositor()
----------------------------------------

display server (protocols): https://en.wikipedia.org/wiki/Display_server

wm: See for fairly comprenhensive list: 
https://wiki.archlinux.org/index.php/window_manager
http://wiki.c2.com/?MinimalLinuxUserInterfaces

compositors: 
https://en.wikipedia.org/wiki/Compositing_window_manager
https://en.wikipedia.org/wiki/Wayland_(display_server_protocol)
https://en.wikipedia.org/wiki/List_of_display_servers#Wayland

----------------------------------------
get_env_de_data()
----------------------------------------

https://wiki.lxde.org/en/LXSession

----------------------------------------
get_env_xprop_de_data()
----------------------------------------

note, GNOME_DESKTOP_SESSION_ID is deprecated so we'll see how that works out
https://bugzilla.gnome.org/show_bug.cgi?id=542880.

----------------------------------------
set_info_data()
----------------------------------------
https://www.reddit.com/r/i3wm/comments/79m7td/is_there_a_list_of_status_bars/

----------------------------------------
set_qt_data()
----------------------------------------
check qmake --version
https://linux.m2osw.com/find-qt-version-command-line-compile-time-run-time

check qmake --version
QMake version 2.01a
Using Qt version 4.8.7 in /usr/lib/x86_64-linux-gnu

========================================
DEVICE DATA
----------------------------------------

----------------------------------------
lspci_data() pciconf_data()
----------------------------------------

PCI IDs, classes, sub classes, very useful:
https://pci-ids.ucw.cz/
Classes:
https://pci-ids.ucw.cz/read/PD/

http://bsdwiki.reedmedia.net/wiki/View_and_configure_system_hardware.html 
freebsds: pciconf / pciconf -lv 
netbsd: pcictl list 
openbsd: pcidump / pcidump -v

----------------------------------------
soc_data()
----------------------------------------

http://linuxgizmos.com/ringing-in-2017-with-90-hacker-friendly-single-board-computers/

For rasberry pi:
https://elinux.org/RPi_Hardware

vms, for qemu: 
https://blahcat.github.io/2017/06/25/qemu-images-to-play-with/
https://drive.google.com/drive/folders/107uMlL_DS8yD2TS_0yrHXBDnLOj44a8P

older, not as ready to run methods:
http://azeria-labs.com/arm-lab-vm/

I2S audio: 
http://infocenter.arm.com/help/topic/com.arm.doc.ddi0515b/CHDJCCHH.html
https://en.wikipedia.org/wiki/I%C2%B2S

========================================
DISK DATA
----------------------------------------

----------------------------------------
proc_data()
----------------------------------------

for major numbers used in:
if ( $row[0] =~ /^(3|8|22|33|43|179|202|252|253|254|259)$/ && 
  $row[-1] =~ /(mmcblk[0-9]+|n[b]?d[0-9]+|nvme[0-9]+n[0-9]+|[hsv]d[a-z]+)$/ && 
  ( $row[1] % 16 == 0 || $row[1] % 16 == 8 ) ) {
http://lanana.org/docs/device-list/devices-2.6+.txt 

For kernel 4.x device numbers:
ttps://www.mjmwired.net/kernel/Documentation/devices.txt 

----------------------------------------
device_vendor()
----------------------------------------

https://elinux.org/RPi_SD_cards
https://sd2snes.de/blog/card-list
https://www.superbiiz.com # lists by real part numbers

Very useful to get new vendor / product string variants. And uses inxi!
https://www.linuxliteos.com/hardware_results.php

See: dev/disks.pl for uhandled disk vendors generator logic.
That downloads, parses, then processes for unhandled disk vendors.
Can print out data, as well as write list to file.

----------------------------------------
device_speed()
----------------------------------------

https://www.edn.com/electronics-news/4380071/What-does-GT-s-mean-anyway-
https://www.anandtech.com/show/2412/2
http://www.tested.com/tech/457440-theoretical-vs-actual-bandwidth-pci-express-and-thunderbolt/

----------------------------------------
smartctl_data()
----------------------------------------
# good overview of what failures mean
https://discuss.aerospike.com/t/decoding-smartctl-output/2916
https://www.thomas-krenn.com/en/wiki/SMART_attributes_of_Intel_SSDs
https://kb.acronis.com/content/9136
https://www.percona.com/blog/2012/10/12/on-ssds-lifespans-health-measurement-and-raid/
https://www.virten.net/2016/12/ssd-total-bytes-written-calculator/
NOTE:
Intel counts another way:
Total LBAs Written - The raw value of this attribute reports the total number of sectors 
written by the host system. The raw value is increased by 1 for every 65,536 
sectors (32MB) written by the host.

http://fibrevillage.com/storage/57-smartctl-examples-to-get-smart-status-of-your-hard-drives
https://www.linuxtechi.com/smartctl-monitoring-analysis-tool-hard-drive/
https://linux.die.net/man/8/smartctl
https://www.smartmontools.org/wiki/AttributesWestern-Digital

https://www.dslreports.com/forum/r27071405-Why-is-G-Sense-Error-Rate-not-0-on-a-brand-new-hard-drive
https://www.backblaze.com/blog-smart-stats-2014-8.html

A mandatory SMART command failed: possible causes:
https://askubuntu.com/questions/637450/cannot-perform-smart-data-and-self-test-on-external-hard-drive

UDMA_CRC_Error_Count
https://hardforum.com/threads/what-is-udma_crc_error_count.1558825/
"A CRC error actually means that the transfer error was detected, so the drive 
was able to take appropriate action, e.g. by retransmitting the data. That's a 
good feature to have, since the drive knows if the data didn't make it to the 
machine. No information was lost and this problem should not lead to stability 
issues unless it's extremely bad."
     



========================================
DISTRO DATA
----------------------------------------

----------------------------------------
get_linux_distro()
----------------------------------------

https://en.wikipedia.org/wiki/List_of_Linux_distributions

https://wiki.debian.org/Derivatives/Census
https://devuan.org/os/debian-fork/ascii-stable-announce-060818
https://devuan.org/os/partners/devuan-distros

https://www.ubuntu.com/download/flavours
https://wiki.ubuntu.com/DerivativeTeam/Derivatives
https://en.wikipedia.org/wiki/List_of_Linux_distributions#Ubuntu-based

https://distrowatch.com/search.php?category=All&origin=All&basedon=Ubuntu&desktop=All&architecture=All&status=All
https://distrowatch.com/search.php?category=All&origin=All&basedon=Debian&desktop=All&architecture=All&status=All

========================================
GRAPHICS DATA
----------------------------------------

CARD RAM:
https://askubuntu.com/questions/46197/how-to-check-video-memory-size
https://askubuntu.com/questions/46197/how-to-check-video-memory-size/475405#475405

wrong about lspci video ram but:
https://www.cyberciti.biz/faq/howto-find-linux-vga-video-card-ram/

lspci  -v -s  $(lspci | grep VGA | cut -d" " -f 1) | grep " prefetchable"
grep -P -o -i "(?<=memory:).*(?=kbytes)" /var/log/Xorg.0.log

CARD ARM ID:
display-port-controller
https://ip.cadence.com/ipportfolio/ip-portfolio-overview/interface-ip/display-ip/hd-display-transmitter-controller

----------------------------------------

----------------------------------------
/usr/lib/xorg-server/Xorg.wrap: Only console users are allowed to run the X server
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=863891

----------------------------------------
x_drivers()
----------------------------------------
List of xorg drivers by name
https://www.x.org/wiki/Projects/Drivers/

========================================
MACHINE DATA
----------------------------------------

----------------------------------------
get_device_sys()
----------------------------------------
https://www.dmtf.org/dsp/DSP0134
https://www.dmtf.org/sites/default/files/standards/documents/DSP0134_2.8.0.pdf
https://www.dmtf.org/sites/default/files/standards/documents/DSP0134_3.2.0.pdf
https://blogs.technet.microsoft.com/brandonlinton/2017/09/15/updated-win32_systemenclosure-chassis-types/

========================================
NETWORK DATA
----------------------------------------

----------------------------------------
card_data()
----------------------------------------

NOTE: class 06 subclass 80 
https://www-s.acm.illinois.edu/sigops/2007/roll_your_own/7.c.1.html

========================================
PARTITION DATA
----------------------------------------

Re: /dev/mtdblk0
/dev/mtdblockX
/dev/mtdX

http://www.linux-mtd.infradead.org/faq/general.html
First off, an MTD is a "Memory Technology Device", so it's just "MTD". 
An "MTD device" is a pleonasm.

https://bootlin.com/blog/managing-flash-storage-with-linux/
Instead, partitions are defined in the kernel. An example is found 
in the arch/arm/mach-omap2/board-omap3beagle.c file in the kernel sources, 
defining flash partitions for the Beagle board:

you can display the corresponding MTD devices by viewing /proc/mtd 
(the sizes are in hexadecimal):

----------------------------------------
admin_data()
----------------------------------------

https://serverfault.com/questions/29887/how-do-i-determine-the-block-size-of-an-ext3-partition-on-linux
https://unix.stackexchange.com/questions/52215/determine-the-size-of-a-block-device
https://serverfault.com/questions/750960/units-for-size-in-proc-partitions-dont-make-sense
https://unix.stackexchange.com/questions/52215/determine-the-size-of-a-block-device

"@heinrich5991 when working with filesystems you should ask statfs() and friends. 
More importantly, you should not assume any direct relationship between the block 
device size and total / usable / effective / free / whatever space on filesystem. 
â€“ Luke404"

re block size in kernel:
https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/types.h?id=v4.4-rc6#n121
https://lore.kernel.org/lkml/1451154995-4686-1-git-send-email-peter@lekensteyn.nl/T/#u
https://lore.kernel.org/lkml/201012011729.18661.lists@egidy.de/T/#u

# only actual 512 B reference?
https://github.com/torvalds/linux/blob/6f0d349d922ba44e4348a17a78ea51b7135965b1/include/linux/types.h#L125

https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-block

========================================
RAID DATA
----------------------------------------

https://wiki.ubuntu.com/ZFS/ZPool

NOTE: zfs now seems to allow using /dev/sda syntax, without partition number

----------------------------------------
zfs_data()
----------------------------------------

spares:
https://blogs.oracle.com/eschrock/entry/zfs_hot_spares

========================================
REPO DATA
----------------------------------------

----------------------------------------
get_repos_linux()
----------------------------------------

apt deb822, a poorly executed version of redhat's repo block syntax, is 
randomly sorted re field names, and has no consistent block starter. 

Any field name can occur anywhere in the block.

http://man7.org/linux/man-pages/man5/deb822.5.html

allows various booleans as string values
https://salsa.debian.org/apt-team/apt/blob/master/apt-pkg/contrib/strutl.cc#L776

========================================
SENSORS DATA
----------------------------------------

----------------------------------------
sensors_data()
----------------------------------------

github issue 58 
msi/asus show wrong for CPUTIN so overwrite it if PECI 0 is present
https://github.com/smxi/inxi/issues/58

http://www.spinics.net/lists/lm-sensors/msg37308.html


========================================
START CLIENT
----------------------------------------

----------------------------------------
set_konvi_data()
----------------------------------------

KDE KONVERSATION SCRIPTING GUIDE: 
https://userbase.kde.org/Konversation/Scripts/Scripting_guide

----------------------------------------
get_client_version()
----------------------------------------
https://wiki.archlinux.org/index.php/List_of_applications#Terminal_emulators

========================================
USB DATA
----------------------------------------

http://bsdwiki.reedmedia.net/wiki/View_and_configure_system_hardware.html
freebsd: camcontrol devlist 

http://www.usb.org/developers/defined_class

class 224/E0h wireless controller:
http://www.usb.org/developers/wusb/docs
http://www.usb.org/wusb/docs/WirelessUSBSpecification_r10.pdf
https://cateee.net/lkddb/web-lkddb/USB_IPHETH.html

----------------------------------------
sys_data() device_type()
----------------------------------------

http://www.usb.org/developers/defined_class

huge list of vendor/device IDs
http://www.linux-usb.org/usb.ids
https://usb-ids.gowdy.us/read/UC/
https://github.com/gentoo/hwids

See also: usb-ids.txt

========================================
WEATHER DATA
----------------------------------------

https://www.maketecheasier.com/ip-address-geolocation-lookups-linux/

https://unix.stackexchange.com/questions/7399/ip-to-country-console-command

http://freegeoip.net/ https://ipstack.com/
curl freegeoip.net/xml/72.4.9.242

curl ipinfo.io/23.66.166.151

https://stackoverflow.com/questions/7490660/converting-wind-direction-in-angles-to-text-words


https://www.worldweatheronline.com/developer/api/docs/local-city-town-weather-api.aspx#current_condition_element
https://www.worldweatheronline.com/developer/api/pricing2.aspx

https://developer.yahoo.com/weather/documentation.html
https://developer.yahoo.com/weather/

https://www.weatherbit.io/api

https://superdevresources.com/weather-forecast-api-for-developing-apps/

https://hjelp.yr.no/hc/en-us/articles/360001940793-Free-weather-data-service-from-Yr

https://www.apixu.com/api.aspx

https://api.met.no/weatherapi/sunrise/2.0/documentation#version_2.0_released:_2018-11-19
https://git.xfce.org/panel-plugins/xfce4-weather-plugin/commit/configure.ac.in
https://www.met.no/frie-meteorologiske-data/lisensiering-og-kreditering
https://api.met.no/weatherapi/documentation

----------------------------------------
get_weather()
----------------------------------------
local time character encoding issues (wide character returned)
https://www.perlmonks.org/?node_id=857018

https://stackoverflow.com/questions/5308891/use-locale-question
https://stackoverflow.com/questions/3214418/is-locale-setting-global-in-perl

https://metacpan.org/pod/DateTime#strftime_Patterns

----------------------------------------

----------------------------------------

$ob = simplexml_load_file('test.xml');
$json = json_encode($ob);
$array = json_decode($json, true);
----------------------
$article_string = file_get_contents($path);
$article_string = preg_replace_callback('/<!\[CDATA\[(.*)\]\]>/', 'filter_xml', $article_string);
$article_xml = simplexml_load_string($article_string); 

function filter_xml($matches) {
    return trim(htmlspecialchars($matches[1]));
} 

================================================================================
LINKS - GENERAL ITEMS
--------------------------------------------------------------------------------

========================================
CODE
----------------------------------------

----------------------------------------
Regex
----------------------------------------
https://stackoverflow.com/questions/399078/what-special-characters-must-be-escaped-in-regular-expressions
For PCRE, and most other so-called Perl-compatible flavors, escape these outside character classes:

.^$*+?()[{\|

and these inside character classes:

^-]\

example of bug: 
https://forum.antergos.com/topic/11203/antergos-hangs-itself-every-one-two-days/18

========================================
MAN PAGE
----------------------------------------

----------------------------------------
Man Basics
----------------------------------------

good index of readme's for man stuff
http://mandoc.bsd.lv/man/
http://mandoc.bsd.lv/man/mdoc.7.html
http://mandoc.bsd.lv/man/man.7.html

debian rules, which are strict and thus worth looking at if you don't know them.
https://manpages.debian.org/testing/manpages/man.7.en.html

----------------------------------------
Man to HTML
----------------------------------------
https://unix.stackexchange.com/questions/246888/how-do-i-convert-linux-man-pages-to-html-without-using-groff

/usr/bin/demandoc
/usr/bin/makewhatis
/usr/bin/mandoc
/usr/bin/mapropos
/usr/bin/mman
/usr/bin/mwhatis

With it I can do:

mman -Thtml mman >/tmp/html
firefox file:///tmp/html

NOTE: mman -Thtml gives better output than roffit, quite a bit better.

========================================
INXI UNIX
----------------------------------------

A fairly comical notion to make inxi into Java, it's odd the people in this thread never thought 
to even ask about solaris support, from the inxi project. Wouldn't have done it, but that would 
still have been the easiest solution as a first step.

https://community.oracle.com/thread/3702321

- ddu

- prtdiag

- dladm show-phys

- prtvtoc <your list of disks>


Solaris11 has a few more...

isalist

psrinfo -pv

psrinfo -v

-----------------------------------------

sysdef -D - system peripherals

sysdef -d - system drivers

-----------------------------------------

sudo scanpci

sudo zonep2vchk -b

dladm show-vnic

dladm show-Link

cat /etc/release

dmesg: old

